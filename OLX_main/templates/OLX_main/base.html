<!DOCTYPE html>
{% load static %}
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    
    <link rel="shortcut icon" href="{% static 'OLX_main/img/olx.png' %}">
    <link rel="stylesheet" href="{% static 'OLX_main/css/index.css' %}">
    <title>{% block title %}{% endblock %}</title>
</head>

<body>
    <header class="header scrolling">
        <form action="{% url 'search' %}" method="get" class="search">
            <input type="search" placeholder="Пошук..." name="search">
            <button type="submit">Знайти</button>
        </form>
        <div class="header-left">
            <!-- Контент расположенный слева -->
            <a href="{% url 'main' %}"><img src="{% static 'OLX_main/img/OLX_blue_logo.png' %}" alt="logo-olx"></a>
        </div>
        <div class="header-right">
            <!-- Контент расположенный справа -->
            <nav>
                <div>
                    <ul>
                        {% if user.is_authenticated %}
                        <p class="user-name">{{ user.username }}</p>
                        <a href="{% url 'account_logout' %}"><li class="add-announcement">Вихід</li></a>
                        <a href="#"><li class="add-announcement">Додати оголошення</li></a>
                        {% else %}
                        <a href="{% url 'account_login' %}"><li class="add-announcement">Вхід</li></a>
                        <a href="{% url 'account_signup' %}"><li class="add-announcement">Реєстрація</li></a>
                        <a href="#"><li class="add-announcement">Додати оголошення</li></a>
                        {% endif %}

                    </ul>
                </div>
            </nav>
        </div>
    </header>

    {% block registration %}
    {% endblock %}

    {% block main %}
    {% endblock %}


    {% block footer %}
    {% endblock %}

<script>  
     document.addEventListener('DOMContentLoaded', () => {
        const header = document.querySelector('.header');
        let scrollPosition = window.pageYOffset;
        
        const handleScroll = () => {
            const newScrollPosition = window.pageYOffset;
            if (newScrollPosition > scrollPosition) {
                header.classList.add('scrolling');
            } else {
                header.classList.remove('scrolling');
            }
            scrollPosition = newScrollPosition;
        };
        
        handleScroll();
        
        window.addEventListener('scroll', handleScroll);
    });
</script>

</body>

</html>